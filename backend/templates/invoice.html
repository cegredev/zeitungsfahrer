<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Rechnung</title>

		<style>
			@page {
				size: A4;
				margin: 0;
			}
			body {
				font-family: Arial, Helvetica, sans-serif;
				margin: 0;
				min-height: 100vh;

				display: grid;
				grid-template-rows: auto 1fr auto;
			}

			body > * {
				padding: 5%;
			}

			.top {
				display: flex;
				flex-direction: row;
				justify-content: space-between;
			}

			.contact {
				text-align: right;
			}

			.info .invoice {
				text-align: right;
			}

			.footer {
				display: grid;
				grid-template-columns: 1fr 1fr;
			}

			h1 {
				margin: 5px;
				margin-bottom: 10px;
			}

			h3 {
				margin: 5px;
				font-weight: inherit;
			}

			table,
			th,
			td {
				border: 1px solid black;
				border-collapse: collapse;
			}

			td {
				padding: 2px;
				text-align: center;
			}

			table {
				width: 90%;
				margin-left: 5%;
			}
		</style>
	</head>
	<body>
		<header>
			<h1>Kandemir Vertragsbetreuung</h1>
		</header>

		<article>
			<div class="contact">
				<div>Hamburger Str. 25, 21205 Hamburg</div>
				<div>Tel.: +490123456789</div>
				<div>E-Mail: info@handverkauf.com</div>
			</div>

			<p></p>
			<div class="info">
				<div class="vendor">
					<div>{{vendor.lastName}}, {{vendor.firstName}}</div>
					<div>{{vendor.address}}</div>
					<div>{{vendor.city}}, {{vendor.zipCode}}</div>
				</div>
				<div class="invoice">
					<div>Datum: {{date}}</div>
					<div>Rechnungs-Nr.: {{invoiceNr}}</div>
				</div>
			</div>

			<p></p>
			<table>
				<thead>
					<th>Datum</th>
					<th>Artikel</th>
					<th>St√ºck</th>
					<th>Preis (Netto)</th>
				</thead>
				<tbody>
					{{#each rows}}
					<tr>
						{{#each this}}
						<td>{{this}}</td>
						{{/each}}
					</tr>
					{{/each}}
				</tbody>
			</table>
		</article>

		<footer>
			<div>
				<div>Bankverbindung:</div>
				<div>Kasse</div>
				<div>IBAN:</div>
			</div>
		</footer>

		<script type="text/javascript">
			window.onload = addPageNumbers;

			function addPageNumbers() {
				var totalPages = Math.ceil(document.body.scrollHeight / 1123); //842px A4 pageheight for 72dpi, 1123px A4 pageheight for 96dpi,
				for (var i = 1; i <= totalPages; i++) {
					var pageNumberDiv = document.createElement("div");
					var pageNumber = document.createTextNode(i + "/" + totalPages);
					pageNumberDiv.style.position = "absolute";
					pageNumberDiv.style.top = "calc((" + i + " * (297mm - 0.5px)) - 130px)"; //297mm A4 pageheight; 0,5px unknown needed necessary correction value; additional wanted 40px margin from bottom(own element height included)
					pageNumberDiv.style.height = "16px";
					pageNumberDiv.appendChild(pageNumber);
					document.body.insertBefore(pageNumberDiv, document.getElementById("content"));
					pageNumberDiv.style.left = "calc(100% - (" + pageNumberDiv.offsetWidth + "px + 10px))";
				}
			}
		</script>
	</body>
</html>
